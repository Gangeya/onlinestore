(()=>{"use strict";var e={432:(e,t,n)=>{n.r(t)},294:(e,t,n)=>{n.r(t)},387:(e,t,n)=>{n.r(t)},997:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.container=document.createElement(e),this.container.className=t,this.container.innerHTML='<p class="footer-text">Online Store 2023</p>'}render(){return this.container}}},100:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(637)),a=n(381),r=n(954);class d extends i.default{constructor(){super("header");const e=new i.default("div").setClass("header").setClass("container").render(this),t=new i.default("div").setClass("logo").render(e);new i.default("img").setAttribute("src",r).setAttribute("width","200").render(t);const n=new i.default("div").setClass("cart-block").render(e);new i.default("div").setClass("total-in-cart").render(n),new i.default("span").setContent("Итого в корзине: ").render(n),new i.default("span").setClass("total-price").setContent("1 258 $").render(n);const s=new i.default("div").setClass("cart").render(n),d=new i.default("a").setClass("cart-link").setAttribute("href","#cart").render(s);new i.default("img").setAttribute("src",a).setAttribute("width","32").setAttribute("heigth","32").render(d),new i.default("span").setClass("cart-count").setContent("2").render(d);const l=new i.default("div").setClass("breadcrumbs").render(this),c=new i.default("ul").setClass("breadcrumbs-list").render(l),o=new i.default("li").render(c);new i.default("a").setAttribute("href","#main").setContent("Main").render(o);const u=new i.default("li").render(c);new i.default("a").setAttribute("href","#product").setContent("Product").render(u)}}t.default=d},637:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.element=document.createElement(e)}render(e){return e instanceof HTMLElement?e.append(this.element):e.element.append(this.element),this.element}renderAfter(e){return e instanceof HTMLElement?e.after(this.element):e.element.after(this.element),this.element}remove(){return this.element.remove(),this}setClass(e){const t=Array.isArray(e)?e:[e];return this.element.classList.add(...t),this}setAttribute(e,t){return t?this.element.setAttribute(e,t):this.element.setAttribute(e,""),this}setContent(e){return this.element.textContent=e,this}setHandler(e,t){return this.element.addEventListener(e,t),this}}},167:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(637));class a extends i.default{constructor(e){super("a"),this.setAttribute("href","#"+e.toLowerCase()).setContent(e)}}t.default=a},517:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(637));class a extends i.default{constructor(e,t){super("main"),new i.default("h1").setContent(e).render(this),new i.default("p").setContent(t).render(this)}}t.default=a},341:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.app=void 0,n(387),n(294),n(432);const i=s(n(637)),a=s(n(100)),r=s(n(997)),d=s(n(985)),l=s(n(938)),c=s(n(810)),o=s(n(517)),u=s(n(167)),p={main:new d.default("Main page","Main content"),product:new l.default("Product","Product page content"),cart:new c.default("Cart","Cart page content")},v=new o.default("404","Not found");class f{constructor(){this.container=document.getElementById("app"),this.header=new a.default}handleRouteChange(){const e=window.location.hash.slice(1).toLowerCase(),t=e?p[e]||v:p.main;t!==this.activePage&&(this.activePage&&this.activePage.remove(),this.activePage=t,this.activePage.renderAfter(this.header))}start(){const e=new i.default("nav").setClass("d-none"),t=new r.default("footer","footer");Object.keys(p).forEach((t=>{new u.default(t).render(e)})),e.render(this.header),this.header.render(this.container),this.handleRouteChange(),window.onpopstate=()=>this.handleRouteChange(),this.container.insertAdjacentElement("beforeend",t.render())}}t.default=f,t.app=new f,t.app.start()},810:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(637)),a=n(914);n(676),n(136);class r extends i.default{constructor(e,t){super("main"),Promise.resolve().then((()=>new i.default("div").setClass("main").setClass("container").render(this))).then((e=>{this.renderCart(e)}))}renderCart(e){e&&(e.innerHTML+=`<div class="products-cart">\n          <div class="products-cart-inner">\n            <div class="products-cart-top">\n              <h1>Товары в корзине</h1>\n              <label for="limit" class="limit-block">Лимит: <input type="number" class="limit" id="limit"></label>\n              <div class="page-block">\n                <span>Страница: </span>\n                <input type="button" class="arrow" value="&lt;">\n                <span class="page">1</span>\n                <input type="button" class="arrow" value="&gt;">\n              </div>\n            </div>\n            <div class="product-block">\n              <div class="num">1</div>\n              <img src="assets/images/thumbnail.jpg" alt="">\n              <div class="product-card">\n                <h3 class="product-card-title">Iphone 9</h3>\n                <div class="product-card-desc">An apple mobile which is nothing like apple</div>\n                <div class="product-card-other">\n                  <div class="rating-block">Рейтинг: 4.5</div>\n                  <div class="discount-block">Скидка: 15%</div>\n                </div>\n\n              </div>\n              <div class="stock-block">\n                <div class="stock">В наличии: 35</div>\n                <div class="stock-control">\n                  <input type="button" class="plus" value="+">\n                  <span class="stock-number">1</span>\n                  <input type="button" class="minus" value="-">\n                </div>\n                <div class="amount">300 $</div>\n              </div>\n            </div>\n            <div class="product-block">\n              <div class="num">2</div>\n              <img src="assets/images/thumbnail.jpg" alt="">\n              <div class="product-card">\n                <h3 class="product-card-title">Iphone 9</h3>\n                <div class="product-card-desc">An apple mobile which is nothing like apple</div>\n                <div class="product-card-other">\n                  <div class="rating-block">Рейтинг: 4.5</div>\n                  <div class="discount-block">Скидка: 15%</div>\n                </div>\n\n              </div>\n              <div class="stock-block">\n                <div class="stock">В наличии: 35</div>\n                <div class="stock-control">\n                  <input type="button" class="plus" value="+">\n                  <span class="stock-number">2</span>\n                  <input type="button" class="minus" value="-">\n                </div>\n                <div class="amount">400 $</div>\n              </div>\n            </div>\n            <div class="product-block">\n              <div class="num">3</div>\n              <img src="assets/images/thumbnail.jpg" alt="">\n              <div class="product-card">\n                <h3 class="product-card-title">Iphone 9</h3>\n                <div class="product-card-desc">An apple mobile which is nothing like apple</div>\n                <div class="product-card-other">\n                  <div class="rating-block">Рейтинг: 4.5</div>\n                  <div class="discount-block">Скидка: 15%</div>\n                </div>\n\n              </div>\n              <div class="stock-block">\n                <div class="stock">В наличии: 35</div>\n                <div class="stock-control">\n                  <input type="button" class="plus" value="+">\n                  <span class="stock-number">3</span>\n                  <input type="button" class="minus" value="-">\n                </div>\n                <div class="amount">1 000 $</div>\n              </div>\n            </div>        \n          </div>\n        </div>\n        <aside class="cart-details">\n            <div class="cart-details-inner">\n              <h3>Корзина</h3>\n              <div class="item-count-block"><span class="item-count">Товаров: 3</span></div>\n              <div class="total-block"><span class="total">Итого: 4 100$</span></div>\n              <div class="promo-block"><input type="text" class="promo-code" placeholder="RS for test"></input></div>\n              <div class="promo-block-active"><span style="">Rolling Scopes School - 10%</span><input type="button" class="promo-code-active" value="Активировать"></input></div>\n              <input type="button" class="buy" value="Купить">\n            </div>\n        </aside>\n        <div class="modal">\n          <div class="modal-block">\n            <input type="text" id="name" placeholder="Имя владельца">\n            <i class="fa-solid fa-circle-exclamation" name="name"></i>\n          </div>\n          <div class="modal-block">\n            <input type="tel" id="tel" placeholder="Телефон">\n            <i class="fa-solid fa-circle-exclamation" name="tel"></i>\n          </div>\n          <div class="modal-block">\n            <input type="address" id="address" placeholder="Адрес">\n            <i class="fa-solid fa-circle-exclamation" name="address"></i>\n          </div>\n        <div class="modal-block">\n          <input type="email" id="email" placeholder="Электронная почта">\n          <i class="fa-solid fa-circle-exclamation" name="email"></i>\n        </div>\n          <div class="card-info">\n              <p class="card-info-title">Кредитная карта</p>\n              <div class="card-block">\n                <img src="${a}" alt="mastercard" width="60">\n                <div class="modal-block">\n                  <input type="number" id="card" placeholder="Номер карты">\n                  <i class="fa-solid fa-circle-exclamation" name="card"></i>\n                </div>\n              </div>\n              <div class="private-data">\n                <div class="modal-block">\n                  <input type="text" id="expcard" placeholder="До">\n                  <i class="fa-solid fa-circle-exclamation" name="expcard"></i>\n                </div>\n                <div class="modal-block">\n                  <input type="number" id="cvv" placeholder="Код">\n                  <i class="fa-solid fa-circle-exclamation" name="cvv"></i>\n                </div>\n              </div>\n          </div>\n          <div class="confirm-block">\n            <input class="confirm" type="button" value="Подтвердить заказ">\n          </div>\n        </div>`)}}t.default=r},985:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(e){a(e)}}function d(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,d)}l((s=s.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(637)),r=n(375),d=n(975);let l;class c extends a.default{constructor(e,t){super("main");const n=new a.default("div").setClass("main").setClass("container").render(this),s=new a.default("aside").render(n),i=new a.default("div").setClass("filter").setHandler("input",(e=>this.filterProduct())).render(s),l=new a.default("div").setClass("filter-inner").render(i),c=new a.default("div").setClass("filter-buttons").render(l);new a.default("button").setClass("reset").setContent("Reset").render(c),new a.default("button").setClass("copy").setContent("Copy").render(c);const o=new a.default("div").setClass("filter-block").render(l);new a.default("div").setClass("filter-title").setContent("Category").render(o),new a.default("div").setClass("filter-list").render(o).id="category";const u=new a.default("div").setClass("filter-block").render(l);new a.default("div").setClass("filter-title").setContent("Brand").render(u),new a.default("div").setClass("filter-list").render(u).id="brand";const p=new a.default("div").setClass("filter-block").render(l);new a.default("div").setClass("filter-title").setContent("Price").render(p);const v=new a.default("div").render(p);new a.default("span").setContent("500$").render(v);const f=new a.default("div").setClass("range").render(p);new a.default("input").setAttribute("type","range").setClass("range-price").setAttribute("min","1").setAttribute("max","100").render(f);const h=new a.default("div").setClass("filter-block").render(l);new a.default("div").setClass("filter-title").setContent("Stock").render(h);const m=new a.default("div").render(h);new a.default("span").setContent("10").render(m);const b=new a.default("div").setClass("range").render(h);new a.default("input").setAttribute("type","range").setClass("range-stock").setAttribute("min","1").setAttribute("max","500").render(b);const g=new a.default("div").setClass("content").render(n),w=new a.default("div").setClass("main-inner").render(g),C=new a.default("div").setClass("main-top").render(w),y=new a.default("div").setClass("sort-block").render(C),k=new a.default("select").setClass("sort").render(y);new a.default("option").setAttribute("value","price-asc").setContent("Sort by price ASC").render(k),new a.default("option").setAttribute("value","price-desc").setContent("Sort by price DESC").render(k),new a.default("option").setAttribute("value","reting-asc").setContent("Sort by reting ASC").render(k),new a.default("option").setAttribute("value","reting-desc").setContent("Sort by reting DESC").render(k),new a.default("div").setClass("found").setContent("100").render(C);const _=new a.default("div").setClass("search-block").render(C);new a.default("input").setAttribute("type","text").setClass("search").setAttribute("placeholder","Search").render(_);const A=new a.default("div").setClass("view").render(C);new a.default("img").setAttribute("src",r).setAttribute("height","27").render(A),new a.default("img").setAttribute("src",d).setAttribute("width","27").render(A);const x=new a.default("div").setClass("products-list").render(w);this.renderContent(x)}getData(){return s(this,void 0,void 0,(function*(){const e=yield fetch("https://dummyjson.com/products?limit=100");return l=yield e.json(),l}))}filterProduct(){return s(this,void 0,void 0,(function*(){const e=document.querySelector(".filter"),t=[...e.querySelectorAll("#category input:checked")].map((e=>e.value)),n=[...e.querySelectorAll("#brand input:checked")].map((e=>e.value)),s=l.products.filter((e=>(!t.length||t.includes(e.category))&&(!n.length||n.includes(e.brand))));this.setCountProducts(s,"category"),this.setCountProducts(s,"brand");const i=document.querySelector(".products-list");i&&(i.innerHTML="",this.renderProducts(i,s))}))}setCountProducts(e,t){const n=[];l.products.forEach((e=>{"category"===t?n.push(e.category):"brand"===t&&n.push(e.brand)}));const s=new Set(n);let i,a=0;s.forEach((n=>{"category"===t?i=e.filter((e=>e.category===n)).length:"brand"===t&&(i=e.filter((e=>e.brand===n)).length);const s=a+n.replace(/[\s.,'&%]/g,""),r=document.querySelector(`[data-${s}]`);r&&(r.innerHTML=i+r.innerHTML.slice(1)),a+=1}))}renderContent(e){return s(this,void 0,void 0,(function*(){l=yield this.getData(),this.renderProducts(e,l.products),this.renderFilter("category"),this.renderFilter("brand")}))}renderProducts(e,t){t.forEach((t=>{e&&(e.innerHTML+=`<div class="product">\n        <div class="product-img">\n          <img\n            src="${t.thumbnail}"\n            width="220"\n          />\n        </div>\n        <div class="product-title">${t.title}</div>\n        <div class="product-info">\n          <div class="info category">\n            <span>Category</span><span>${t.category}</span>\n          </div>\n          <div class="info brand"><span>Brand</span><span>${t.brand}</span></div>\n          <div class="info price"><span>Price</span><span>${t.price}</span></div>\n          <div class="info discount"><span>Discount</span><span>${t.discountPercentage}</span></div>\n          <div class="info rating"><span>Rating</span><span>${t.rating}</span></div>\n          <div class="info stock"><span>Stock</span><span>${t.stock}</span></div>\n        </div>\n        <div class="product-bottom">\n          <input type="button" class="tocart" value="В корзину" /><input\n            type="button"\n            class="more"\n            value="Подробно"\n          />\n        </div>\n      </div>`)}))}renderFilter(e){let t={};const n=[];l.products.forEach((t=>{"category"===e?n.push(t.category):"brand"===e&&n.push(t.brand)})),t=n.reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{});const s=document.getElementById(e);let i=0;Object.keys(t).forEach((e=>{const n=i+e.replace(/[\s.,'&%]/g,"");s&&(s.innerHTML+=`<div class="item">\n      <input type="checkbox" id="${e}" value="${e}" name="${e}">\n      <label for="smartphone">${e}</label>\n      <span data-${n}>${t[e]}/${t[e]}</span>\n      </div>`),i+=1}))}}t.default=c},938:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(637));class a extends i.default{constructor(e,t){super("main"),Promise.resolve().then((()=>{const e=new i.default("div").setClass("main").setClass("container").render(this);return new i.default("div").setClass("product-content").render(e)})).then((e=>{this.renderProductContent(e)}))}renderProductContent(e){e&&(e.innerHTML+='\n    <div class="product-content-inner">\n      <div class="product-title"><h1>Iphone 9</h1></div>\n      <div class="image-block">\n        <div class="product-image">\n          <img src="assets/images/thumbnail.jpg" alt="" srcset="">\n        </div>\n        <div class="product-thumnails">\n          <img src="assets/images/thumbnail.jpg" width="60" alt="" srcset="">\n          <img src="assets/images/thumbnail.jpg" width="60" alt="" srcset="">\n          <img src="assets/images/thumbnail.jpg" width="60" alt="" srcset="">\n        </div>\n      </div>\n      <div class="product-info-block">\n        <div class="product-info-item">\n          <div class="item-title">Desciption</div>\n          <div class="item-content">An apple mobile which is nothing like apple</div>\n        </div>\n        <div class="product-info-item">\n          <div class="item-title">Discount Percentage</div>\n          <div class="item-content">12.96</div>\n        </div>\n        <div class="product-info-item">\n          <div class="item-title">Rating</div>\n          <div class="item-content">4.8</div>\n        </div>\n        <div class="product-info-item">\n          <div class="item-title">Stock</div>\n          <div class="item-content">94</div>\n        </div>\n        <div class="product-info-item">\n          <div class="item-title">Brand</div>\n          <div class="item-content">Apple</div>\n        </div>\n        <div class="product-info-item">\n          <div class="item-title">Category</div>\n          <div class="item-content">Smartphone</div>\n        </div>\n      </div>\n      <div class="add-to-cart">\n        <span class="total">Цена: 500 $</span>\n        <input type="button" class="tocart" value="В корзину">\n        <input type="button" class="buy" value="Купить">\n      </div>\n    </div>')}}t.default=a},954:(e,t,n)=>{e.exports=n.p+"assets/images/logo.png"},914:(e,t,n)=>{e.exports=n.p+"assets/icons/mastercard.svg"},136:(e,t,n)=>{e.exports=n.p+"assets/icons/qiwi.svg"},381:(e,t,n)=>{e.exports=n.p+"assets/images/shopping-cart.png"},375:(e,t,n)=>{e.exports=n.p+"assets/images/view1.png"},975:(e,t,n)=>{e.exports=n.p+"assets/images/view2.png"},676:(e,t,n)=>{e.exports=n.p+"assets/icons/visa.svg"}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(341)})();